{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Documents\\\\htm_fe\\\\src\\\\context\\\\timeListenerContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// TimeStartContext.tsx\nimport React, { createContext, useContext, useEffect, useRef } from \"react\";\nimport { listenToTimeStart } from \"../services/firebaseServices\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimeStartContext = /*#__PURE__*/createContext(undefined);\nexport const TimeStartProvider = ({\n  roomId,\n  children\n}) => {\n  _s();\n  const listenersRef = useRef(new Set());\n  useEffect(() => {\n    const unsubscribe = listenToTimeStart(roomId, () => {\n      listenersRef.current.forEach(callback => callback());\n    });\n    return () => unsubscribe();\n  }, [roomId]);\n  const subscribe = callback => {\n    listenersRef.current.add(callback);\n    return () => {\n      listenersRef.current.delete(callback);\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(TimeStartContext.Provider, {\n    value: {\n      subscribe\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(TimeStartProvider, \"oD62uayOfQ/hy47+TiVnFNt68X8=\");\n_c = TimeStartProvider;\nexport const useTimeStart = () => {\n  _s2();\n  const context = useContext(TimeStartContext);\n  if (!context) {\n    throw new Error(\"useTimeStart must be used within a TimeStartProvider\");\n  }\n  return context;\n};\n_s2(useTimeStart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"TimeStartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useRef","listenToTimeStart","jsxDEV","_jsxDEV","TimeStartContext","undefined","TimeStartProvider","roomId","children","_s","listenersRef","Set","unsubscribe","current","forEach","callback","subscribe","add","delete","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useTimeStart","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/ASUS/Documents/htm_fe/src/context/timeListenerContext.tsx"],"sourcesContent":["// TimeStartContext.tsx\r\nimport React, { createContext, useContext, useEffect, useRef } from \"react\";\r\nimport { listenToTimeStart } from \"../services/firebaseServices\";\r\n\r\ntype TimeStartCallback = () => void;\r\n\r\ntype TimeStartContextType = {\r\n  subscribe: (callback: TimeStartCallback) => () => void;\r\n};\r\n\r\nconst TimeStartContext = createContext<TimeStartContextType | undefined>(undefined);\r\n\r\nexport const TimeStartProvider: React.FC<{ roomId: string; children: React.ReactNode }> = ({\r\n  roomId,\r\n  children,\r\n}) => {\r\n  const listenersRef = useRef<Set<TimeStartCallback>>(new Set());\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = listenToTimeStart(roomId, () => {\r\n      listenersRef.current.forEach((callback) => callback());\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [roomId]);\r\n\r\n  const subscribe = (callback: TimeStartCallback) => {\r\n    listenersRef.current.add(callback);\r\n    return () => {\r\n      listenersRef.current.delete(callback);\r\n    };\r\n  };\r\n\r\n  return (\r\n    <TimeStartContext.Provider value={{ subscribe }}>\r\n      {children}\r\n    </TimeStartContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTimeStart = (): TimeStartContextType => {\r\n  const context = useContext(TimeStartContext);\r\n  if (!context) {\r\n    throw new Error(\"useTimeStart must be used within a TimeStartProvider\");\r\n  }\r\n  return context;\r\n};\r\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC3E,SAASC,iBAAiB,QAAQ,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQjE,MAAMC,gBAAgB,gBAAGP,aAAa,CAAmCQ,SAAS,CAAC;AAEnF,OAAO,MAAMC,iBAA0E,GAAGA,CAAC;EACzFC,MAAM;EACNC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,YAAY,GAAGV,MAAM,CAAyB,IAAIW,GAAG,CAAC,CAAC,CAAC;EAE9DZ,SAAS,CAAC,MAAM;IACd,MAAMa,WAAW,GAAGX,iBAAiB,CAACM,MAAM,EAAE,MAAM;MAClDG,YAAY,CAACG,OAAO,CAACC,OAAO,CAAEC,QAAQ,IAAKA,QAAQ,CAAC,CAAC,CAAC;IACxD,CAAC,CAAC;IAEF,OAAO,MAAMH,WAAW,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACL,MAAM,CAAC,CAAC;EAEZ,MAAMS,SAAS,GAAID,QAA2B,IAAK;IACjDL,YAAY,CAACG,OAAO,CAACI,GAAG,CAACF,QAAQ,CAAC;IAClC,OAAO,MAAM;MACXL,YAAY,CAACG,OAAO,CAACK,MAAM,CAACH,QAAQ,CAAC;IACvC,CAAC;EACH,CAAC;EAED,oBACEZ,OAAA,CAACC,gBAAgB,CAACe,QAAQ;IAACC,KAAK,EAAE;MAAEJ;IAAU,CAAE;IAAAR,QAAA,EAC7CA;EAAQ;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACgB,CAAC;AAEhC,CAAC;AAACf,EAAA,CA1BWH,iBAA0E;AAAAmB,EAAA,GAA1EnB,iBAA0E;AA4BvF,OAAO,MAAMoB,YAAY,GAAGA,CAAA,KAA4B;EAAAC,GAAA;EACtD,MAAMC,OAAO,GAAG9B,UAAU,CAACM,gBAAgB,CAAC;EAC5C,IAAI,CAACwB,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,sDAAsD,CAAC;EACzE;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,GAAA,CANWD,YAAY;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}