{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Documents\\\\htm_fe\\\\src\\\\pages\\\\Host\\\\Management\\\\HostRound2.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\n\n// Define word object structure\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Define word bank\nconst wordBankStrings = [\"GIÓ\", \"HẠT GIỐNG\", \"DREAM\", \"THUỐC\", \"CÚC\", \"CHÂU KIỆT LUÂN\"];\n\n// Initialize board size\nconst boardSize = 20;\n\n// Function to create an empty board\nconst generateBoard = size => {\n  return Array(size).fill(null).map(() => Array(size).fill(\"\"));\n};\n\n// Prepare word bank from word array\nconst prepareWordBank = () => {\n  return wordBankStrings.map((word, i) => ({\n    word: ` ${i + 1}${word} `,\n    x: -1,\n    y: -1,\n    dir: 0,\n    char: [...word],\n    // Fix: Use spread syntax instead of `.split()`\n    totalMatches: 0,\n    successfulMatches: []\n  }));\n};\n\n// Logic to add words to the board safely\nconst addWordToBoard = (word, board, wordsActive) => {\n  let curWord = word;\n  let curIndex = -1;\n  let minMatchDiff = 9999;\n  if (wordsActive.length < 1) {\n    curWord.x = 10;\n    curWord.y = 10;\n    curWord.dir = 0;\n    wordsActive.push(curWord);\n  } else {\n    for (let i = 0; i < wordsActive.length; i++) {\n      let curMatchDiff = wordsActive[i].totalMatches;\n      if (curMatchDiff < minMatchDiff) {\n        minMatchDiff = curMatchDiff;\n        curIndex = i;\n      }\n    }\n    if (curIndex === -1) return false;\n    curWord = wordsActive[curIndex];\n    wordsActive.push(curWord);\n    for (let i = 0; i < curWord.char.length; i++) {\n      let xIndex = curWord.x,\n        yIndex = curWord.y;\n      if (curWord.dir === 0) xIndex += i;else yIndex += i;\n\n      // Fix: Validate indices before accessing the board\n      if (xIndex >= 0 && xIndex < boardSize && yIndex >= 0 && yIndex < boardSize) {\n        board[xIndex][yIndex] = curWord.char[i];\n      } else {\n        console.error(`Invalid indices: x=${xIndex}, y=${yIndex}`);\n        return false;\n      }\n    }\n  }\n  return true;\n};\n\n// Populate board using placement logic\nconst populateBoard = (wordBank, board) => {\n  const wordsActive = [];\n  for (let i = 0; i < wordBank.length; i++) {\n    const isPlaced = addWordToBoard(wordBank[i], board, wordsActive);\n    if (!isPlaced) break; // Stop placing if a word fails\n  }\n  return wordsActive;\n};\n\n// Convert board state into HTML\nconst BoardToHtml = board => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"grid\",\n      gridTemplateColumns: `repeat(${boardSize}, 30px)`\n    },\n    children: board.map((row, rowIndex) => row.map((cell, colIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: 30,\n        height: 30,\n        border: \"1px solid black\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontWeight: \"bold\"\n      },\n      children: cell\n    }, `${rowIndex}-${colIndex}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }, this)))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n// Main React Component\n_c = BoardToHtml;\nconst WordBoard = () => {\n  _s();\n  const [board, setBoard] = useState(generateBoard(boardSize));\n  const [wordsPlaced, setWordsPlaced] = useState([]);\n  useEffect(() => {\n    const wordBank = prepareWordBank();\n    const wordsActive = populateBoard(wordBank, board);\n    setWordsPlaced(wordsActive);\n    setBoard([...board]); // Fix: Ensures state updates correctly\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Word Puzzle Board\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), BoardToHtml(board)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(WordBoard, \"IgTgE/kJ3tA/zzd42ADjn4pu410=\");\n_c2 = WordBoard;\nexport default WordBoard;\nvar _c, _c2;\n$RefreshReg$(_c, \"BoardToHtml\");\n$RefreshReg$(_c2, \"WordBoard\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","wordBankStrings","boardSize","generateBoard","size","Array","fill","map","prepareWordBank","word","i","x","y","dir","char","totalMatches","successfulMatches","addWordToBoard","board","wordsActive","curWord","curIndex","minMatchDiff","length","push","curMatchDiff","xIndex","yIndex","console","error","populateBoard","wordBank","isPlaced","BoardToHtml","style","display","gridTemplateColumns","children","row","rowIndex","cell","colIndex","width","height","border","justifyContent","alignItems","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","_c","WordBoard","_s","setBoard","wordsPlaced","setWordsPlaced","_c2","$RefreshReg$"],"sources":["C:/Users/ASUS/Documents/htm_fe/src/pages/Host/Management/HostRound2.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\n// Define word object structure\r\ninterface WordObj {\r\n  word: string;\r\n  x: number;\r\n  y: number;\r\n  dir: number; // 0 = horizontal, 1 = vertical\r\n  char: string[];\r\n  totalMatches: number;\r\n  successfulMatches: { x: number; y: number; dir: number }[];\r\n}\r\n\r\n// Define word bank\r\nconst wordBankStrings: string[] = [\"GIÓ\", \"HẠT GIỐNG\", \"DREAM\", \"THUỐC\", \"CÚC\", \"CHÂU KIỆT LUÂN\"];\r\n\r\n// Initialize board size\r\nconst boardSize = 20;\r\n\r\n// Function to create an empty board\r\nconst generateBoard = (size: number): string[][] => {\r\n  return Array(size)\r\n    .fill(null)\r\n    .map(() => Array(size).fill(\"\"));\r\n};\r\n\r\n// Prepare word bank from word array\r\nconst prepareWordBank = (): WordObj[] => {\r\n  return wordBankStrings.map((word, i) => ({\r\n    word: ` ${i + 1}${word} `,\r\n    x: -1,\r\n    y: -1,\r\n    dir: 0,\r\n    char: [...word], // Fix: Use spread syntax instead of `.split()`\r\n    totalMatches: 0,\r\n    successfulMatches: [],\r\n  }));\r\n};\r\n\r\n// Logic to add words to the board safely\r\nconst addWordToBoard = (word: WordObj, board: string[][], wordsActive: WordObj[]): boolean => {\r\n  let curWord = word;\r\n  let curIndex = -1;\r\n  let minMatchDiff = 9999;\r\n\r\n  if (wordsActive.length < 1) {\r\n    curWord.x = 10;\r\n    curWord.y = 10;\r\n    curWord.dir = 0;\r\n    wordsActive.push(curWord);\r\n  } else {\r\n    for (let i = 0; i < wordsActive.length; i++) {\r\n      let curMatchDiff = wordsActive[i].totalMatches;\r\n      if (curMatchDiff < minMatchDiff) {\r\n        minMatchDiff = curMatchDiff;\r\n        curIndex = i;\r\n      }\r\n    }\r\n\r\n    if (curIndex === -1) return false;\r\n\r\n    curWord = wordsActive[curIndex];\r\n    wordsActive.push(curWord);\r\n\r\n    for (let i = 0; i < curWord.char.length; i++) {\r\n      let xIndex = curWord.x,\r\n        yIndex = curWord.y;\r\n      if (curWord.dir === 0) xIndex += i;\r\n      else yIndex += i;\r\n\r\n      // Fix: Validate indices before accessing the board\r\n      if (xIndex >= 0 && xIndex < boardSize && yIndex >= 0 && yIndex < boardSize) {\r\n        board[xIndex][yIndex] = curWord.char[i];\r\n      } else {\r\n        console.error(`Invalid indices: x=${xIndex}, y=${yIndex}`);\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\n// Populate board using placement logic\r\nconst populateBoard = (wordBank: WordObj[], board: string[][]): WordObj[] => {\r\n  const wordsActive: WordObj[] = [];\r\n\r\n  for (let i = 0; i < wordBank.length; i++) {\r\n    const isPlaced = addWordToBoard(wordBank[i], board, wordsActive);\r\n    if (!isPlaced) break; // Stop placing if a word fails\r\n  }\r\n  return wordsActive;\r\n};\r\n\r\n// Convert board state into HTML\r\nconst BoardToHtml = (board: string[][]) => {\r\n  return (\r\n    <div style={{ display: \"grid\", gridTemplateColumns: `repeat(${boardSize}, 30px)` }}>\r\n      {board.map((row, rowIndex) =>\r\n        row.map((cell, colIndex) => (\r\n          <div\r\n            key={`${rowIndex}-${colIndex}`}\r\n            style={{\r\n              width: 30,\r\n              height: 30,\r\n              border: \"1px solid black\",\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            {cell}\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Main React Component\r\nconst WordBoard: React.FC = () => {\r\n  const [board, setBoard] = useState<string[][]>(generateBoard(boardSize));\r\n  const [wordsPlaced, setWordsPlaced] = useState<WordObj[]>([]);\r\n\r\n  useEffect(() => {\r\n    const wordBank = prepareWordBank();\r\n    const wordsActive = populateBoard(wordBank, board);\r\n    setWordsPlaced(wordsActive);\r\n    setBoard([...board]); // Fix: Ensures state updates correctly\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Word Puzzle Board</h2>\r\n      {BoardToHtml(board)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WordBoard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}